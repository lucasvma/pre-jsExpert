function cov_pn6hfk5wm(){var path="/home/luketfake/Documentos/courses/ErickWendel/pre-jsExpert/05-generators-iterators/app/src/request.js";var hash="3709ba40ab32994efdf418eb2764e44629d024fa";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/luketfake/Documentos/courses/ErickWendel/pre-jsExpert/05-generators-iterators/app/src/request.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:5,column:19},end:{line:5,column:99}},"2":{start:{line:5,column:43},end:{line:5,column:99}},"3":{start:{line:5,column:49},end:{line:5,column:99}},"4":{start:{line:8,column:8},end:{line:10,column:10}},"5":{start:{line:9,column:12},end:{line:9,column:63}},"6":{start:{line:14,column:8},end:{line:25,column:10}},"7":{start:{line:16,column:12},end:{line:24,column:36}},"8":{start:{line:17,column:30},end:{line:17,column:32}},"9":{start:{line:18,column:16},end:{line:22,column:22}},"10":{start:{line:19,column:40},end:{line:19,column:56}},"11":{start:{line:21,column:24},end:{line:21,column:59}},"12":{start:{line:29,column:8},end:{line:32,column:10}},"13":{start:{line:36,column:0},end:{line:36,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:19},end:{line:5,column:20}},loc:{start:{line:5,column:43},end:{line:5,column:99}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:5,column:43},end:{line:5,column:44}},loc:{start:{line:5,column:49},end:{line:5,column:99}},line:5},"2":{name:"(anonymous_2)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:35},end:{line:11,column:5}},line:7},"3":{name:"(anonymous_3)",decl:{start:{line:8,column:27},end:{line:8,column:28}},loc:{start:{line:8,column:48},end:{line:10,column:9}},line:8},"4":{name:"(anonymous_4)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:19},end:{line:26,column:5}},line:13},"5":{name:"(anonymous_5)",decl:{start:{line:14,column:27},end:{line:14,column:28}},loc:{start:{line:14,column:48},end:{line:25,column:9}},line:14},"6":{name:"(anonymous_6)",decl:{start:{line:16,column:27},end:{line:16,column:28}},loc:{start:{line:16,column:34},end:{line:23,column:13}},line:16},"7":{name:"(anonymous_7)",decl:{start:{line:19,column:32},end:{line:19,column:33}},loc:{start:{line:19,column:40},end:{line:19,column:56}},line:19},"8":{name:"(anonymous_8)",decl:{start:{line:20,column:31},end:{line:20,column:32}},loc:{start:{line:20,column:37},end:{line:22,column:21}},line:20},"9":{name:"(anonymous_9)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:48},end:{line:33,column:5}},line:28}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3709ba40ab32994efdf418eb2764e44629d024fa"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_pn6hfk5wm=function(){return actualCoverage;};}return actualCoverage;}cov_pn6hfk5wm();const https=(cov_pn6hfk5wm().s[0]++,require('https'));class Request{errorTimeout=(cov_pn6hfk5wm().s[1]++,(reject,urlRequest)=>{cov_pn6hfk5wm().f[0]++;cov_pn6hfk5wm().s[2]++;return()=>{cov_pn6hfk5wm().f[1]++;cov_pn6hfk5wm().s[3]++;return reject(new Error(`timeout at [${urlRequest}] :(`));};});raceTimeoutDelay(url,timeout){cov_pn6hfk5wm().f[2]++;cov_pn6hfk5wm().s[4]++;return new Promise((resolve,reject)=>{cov_pn6hfk5wm().f[3]++;cov_pn6hfk5wm().s[5]++;setTimeout(this.errorTimeout(reject,url),timeout);});}async get(url){cov_pn6hfk5wm().f[4]++;cov_pn6hfk5wm().s[6]++;return new Promise((resolve,reject)=>{cov_pn6hfk5wm().f[5]++;cov_pn6hfk5wm().s[7]++;https.get(url,res=>{cov_pn6hfk5wm().f[6]++;const items=(cov_pn6hfk5wm().s[8]++,[]);cov_pn6hfk5wm().s[9]++;res.on('data',data=>{cov_pn6hfk5wm().f[7]++;cov_pn6hfk5wm().s[10]++;return items.push(data);}).on('end',()=>{cov_pn6hfk5wm().f[8]++;cov_pn6hfk5wm().s[11]++;resolve(JSON.parse(items.join("")));});}).on('error',reject);});}async makeRequest({url,method,timeout}){cov_pn6hfk5wm().f[9]++;cov_pn6hfk5wm().s[12]++;return Promise.race([this[method](url),this.raceTimeoutDelay(url,timeout)]);}}cov_pn6hfk5wm().s[13]++;module.exports=Request;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcXVlc3QuanMiXSwibmFtZXMiOlsiaHR0cHMiLCJyZXF1aXJlIiwiUmVxdWVzdCIsImVycm9yVGltZW91dCIsInJlamVjdCIsInVybFJlcXVlc3QiLCJFcnJvciIsInJhY2VUaW1lb3V0RGVsYXkiLCJ1cmwiLCJ0aW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZ2V0IiwicmVzIiwiaXRlbXMiLCJvbiIsImRhdGEiLCJwdXNoIiwiSlNPTiIsInBhcnNlIiwiam9pbiIsIm1ha2VSZXF1ZXN0IiwibWV0aG9kIiwicmFjZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiIyL0ZBZVk7eUZBZlosS0FBTUEsQ0FBQUEsS0FBSyx5QkFBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFYLENBRUEsS0FBTUMsQ0FBQUEsT0FBUSxDQUVWQyxZQUFZLHlCQUFHLENBQUNDLE1BQUQsQ0FBU0MsVUFBVCxHQUF3Qix5REFBTSxxREFBQUQsQ0FBQUEsTUFBTSxDQUFDLEdBQUlFLENBQUFBLEtBQUosQ0FBVyxlQUFjRCxVQUFXLE1BQXBDLENBQUQsQ0FBTixDQUFrRCxDQUF4RCxDQUF3RCxDQUFuRixFQUVaRSxnQkFBZ0IsQ0FBQ0MsR0FBRCxDQUFNQyxPQUFOLENBQWUsK0NBQzNCLE1BQU8sSUFBSUMsQ0FBQUEsT0FBSixDQUFZLENBQUNDLE9BQUQsQ0FBVVAsTUFBVixHQUFxQiwrQ0FDcENRLFVBQVUsQ0FBQyxLQUFLVCxZQUFMLENBQWtCQyxNQUFsQixDQUEwQkksR0FBMUIsQ0FBRCxDQUFpQ0MsT0FBakMsQ0FBVixDQUNILENBRk0sQ0FBUCxDQUdILENBRUQsS0FBTUksQ0FBQUEsR0FBTixDQUFVTCxHQUFWLENBQWUsK0NBQ1gsTUFBTyxJQUFJRSxDQUFBQSxPQUFKLENBQVksQ0FBQ0MsT0FBRCxDQUFVUCxNQUFWLEdBQXFCLCtDQUVwQ0osS0FBSyxDQUFDYSxHQUFOLENBQVVMLEdBQVYsQ0FBZU0sR0FBRyxFQUFJLHdCQUNsQixLQUFNQyxDQUFBQSxLQUFLLHlCQUFHLEVBQUgsQ0FBWCxDQURrQix1QkFFbEJELEdBQUcsQ0FDRUUsRUFETCxDQUNRLE1BRFIsQ0FDZ0JDLElBQUksRUFBSSxzREFBQUYsQ0FBQUEsS0FBSyxDQUFDRyxJQUFOLENBQVdELElBQVgsRUFBZ0IsQ0FEeEMsRUFFS0QsRUFGTCxDQUVRLEtBRlIsQ0FFZSxJQUFNLGdEQUNiTCxPQUFPLENBQUNRLElBQUksQ0FBQ0MsS0FBTCxDQUFXTCxLQUFLLENBQUNNLElBQU4sQ0FBVyxFQUFYLENBQVgsQ0FBRCxDQUFQLENBQ0gsQ0FKTCxFQUtILENBUEQsRUFRS0wsRUFSTCxDQVFRLE9BUlIsQ0FRaUJaLE1BUmpCLEVBU0gsQ0FYTSxDQUFQLENBWUgsQ0FFRCxLQUFNa0IsQ0FBQUEsV0FBTixDQUFrQixDQUFFZCxHQUFGLENBQU9lLE1BQVAsQ0FBZWQsT0FBZixDQUFsQixDQUE0QyxnREFDeEMsTUFBT0MsQ0FBQUEsT0FBTyxDQUFDYyxJQUFSLENBQWEsQ0FDaEIsS0FBS0QsTUFBTCxFQUFhZixHQUFiLENBRGdCLENBRWhCLEtBQUtELGdCQUFMLENBQXNCQyxHQUF0QixDQUEyQkMsT0FBM0IsQ0FGZ0IsQ0FBYixDQUFQLENBSUgsQ0E5QlMsQyx3QkFpQ2RnQixNQUFNLENBQUNDLE9BQVAsQ0FBaUJ4QixPQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKVxuXG5jbGFzcyBSZXF1ZXN0IHtcblxuICAgIGVycm9yVGltZW91dCA9IChyZWplY3QsIHVybFJlcXVlc3QpID0+ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYHRpbWVvdXQgYXQgWyR7dXJsUmVxdWVzdH1dIDooYCkpXG5cbiAgICByYWNlVGltZW91dERlbGF5KHVybCwgdGltZW91dCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLmVycm9yVGltZW91dChyZWplY3QsIHVybCksIHRpbWVvdXQpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgICAgICBodHRwcy5nZXQodXJsLCByZXMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gW11cbiAgICAgICAgICAgICAgICByZXNcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdkYXRhJywgZGF0YSA9PiBpdGVtcy5wdXNoKGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShpdGVtcy5qb2luKFwiXCIpKSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKCdlcnJvcicsIHJlamVjdClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBhc3luYyBtYWtlUmVxdWVzdCh7IHVybCwgbWV0aG9kLCB0aW1lb3V0IH0pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgICAgICAgICB0aGlzW21ldGhvZF0odXJsKSxcbiAgICAgICAgICAgIHRoaXMucmFjZVRpbWVvdXREZWxheSh1cmwsIHRpbWVvdXQpXG4gICAgICAgIF0pXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlcXVlc3QiXX0=